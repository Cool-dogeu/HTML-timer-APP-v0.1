<!DOCTYPE html>
<html>
<head>
    <title>Timer XML</title>
</head>
<body>
    <script>
        // Extract competition ID from path and redirect to function
        const path = window.location.pathname;
        const match = path.match(/^\/([a-zA-Z0-9]{6,})\/xml\/?$/);
        
        if (match) {
            const competitionId = match[1];
            const functionUrl = `/.netlify/functions/xml?competitionId=${competitionId}`;
            window.location.href = functionUrl;
        } else {
            document.write('<?xml version="1.0" encoding="UTF-8"?><error><message>Invalid XML endpoint format</message></error>');
        }
    </script>
</body>
</html>